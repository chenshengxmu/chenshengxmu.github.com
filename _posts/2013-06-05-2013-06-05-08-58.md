---
layout: post
url: https://www.huxiu.com/article/15417
name: 匿名
time: 2013-06-05 08:58
title: 网易跟贴，盖楼十年。背后的机制与匠心
---
昨天虎嗅发表了赵刚的一篇《网易跟帖看起来很有趣，So What？》，引发了用户较为激烈的讨论，可见这个老牌产品在网友心中还是很有分量的。随后虎嗅收到一篇匿名推荐投稿，系统剖析、还原了网易跟帖这个产品的设计思路、发展历程及运营心得，原作者为前网易新闻中心主编、现i美股主编梁剑。这篇老文章一方面是科普，另外一方面对网站设计者、产品经理还是很有借鉴意义的。

从03年到13年，网易跟帖已经活了10年。能够得到众多挑剔网友的认可，从来都不是一件容易的事情，但网易跟帖做到了，凭什么？

网易跟贴不是一天建成的，作为一款互联网产品，网易跟贴甚至在很长时间里，都没专门的产品负责人。2006年6月之前，我作为网易新闻中心的主编，曾经分管专题、论坛、产品、审核等方面的工作，以及后来的调任的职位，仍然与产品关联。因此，直接或者间接的负责网易跟贴的历次功能设计改造，以及部分的内容运营。离开网易前，已答应过同事，总结过去，以供后来者参考。

一，出生：

网易跟贴的推出，起步比新浪晚很多，之前文章页底部的“发表评论”按钮，是直接链接到论坛首页，而新浪至少在2000年就存在“我来说两句”。网易则直到李学凌（现任多玩游戏网创始人兼总裁）出任内容总监（后任总编辑）后，才在03年下半年推出。前期为李学凌亲自主导设计。

二，盖楼和回复

1，网易跟贴在最开始的半年时间里，没有盖楼的功能。当时的样式和新浪差不多。

2，盖楼是意外之作

盖楼一开始并非是故意设计的。只是当时为了解决网友连续讨论，无法看到上下文，从而容许连续引用回复。没想到出来了盖楼的效果。

3，TABLE下的20层楼

刚开始的盖楼，采用TABLE的方式。只能显示20来层。由于一个个TABLE嵌套，中间的越来越小，最后被收缩成一条粗线。网友称之为“塌楼”。

4， DIV下的50层高楼

06年底，修改为DIV，可以扩展到50多层。带来新的问题是，网友将跟贴COPY到博客等网站时，DIV会被过滤或者缺少样式支持，从而无法展现完整的盖楼。当时只针对特定的博客（网易、新浪、搜狐等）做了修正。但是这种方式下，仍然未解决，楼层过高时，顶部坍塌的问题（也就是缩成一条线）。

5，70层高楼

09年，采用了网易手机版的方案，将10层后的线框，修改为不闭合。但是外观上不容易看出来。这样，理论上，楼层可以无限高。但是，楼层过多对页面打开速度影响严重，甚至会导致浏览器崩溃（特别是IE），经过测试后，取了一个性能以及视觉都在可接受范围内的70层。

6，盖楼的重复信息：

盖楼在视觉上，气势磅礴，而且信息连贯。多个互不认识的网友，经常在里面联合写连载小说。如：

但是，所带来的问题是，跟贴页面内，出现大量重复信息。因为盖楼时，前面的信息几乎都是一样的，只是最后一条不同。因此，在07年初，启动了一个方案，前端判断重复的楼层，默认收缩隐藏。而如果已经有分支的，则显示最新的。但是点击展开后，不能再通过点击收缩。

三，热帖和顶帖系统：（热帖是指在网易跟贴页，排在最上面的10条，根据被顶的次数排序。）

1，打分：

刚推出的网易跟贴，在每条跟贴后面，有下拉的打分选项目，从1分到5分。这个是参考当时国外的一些网站。 然后，再根据最后的综合得分汇总，进行热帖（单贴）排行。当时还曾经设想，日后对登录用户的等级和影响力之类实行累积和评级，他们的评价分值不一样，可以更大程度地影响排序。

但是，这个打分系统，在实行大约一个季度后，就被否定。因为在这个面对广泛网友的快速评论系统中，下拉、思考分值、然后再提交的几步操作，还是令多数人却步。

2，支持和反对：

代替复杂打分系统的，是一个“支持”的按钮。点一下数字加1，然后简单粗暴的按数字多少排列本新闻的热帖。这个简化的方案，一直沿用至今（去年措辞方面被修改为“顶”，稍后说明）。

当时并没有“反对”的按钮。但是05年初的时候，其他部门一个同事对跟贴做用户体验评测时，当时提到“既然有支持，应该也有反对”。我一开始是不赞同增加的，因为“支持”是用于热帖排序，而增加“反对”，无法同时也参与排序（曾经考虑过两者叠加或者加权平均），因此觉得是将顶帖复杂化的多余功能。但是，由于当时这个评测结果是直接向丁磊汇报的，所以在不能提出充足的有害理由情况下，最后还是同意增加。

没想到，虽然“反对”的数字并不参与排序，后来被网友利用到极致。经常在跟贴里看到发帖后面有“赞同的点支持，否则点反对”，网友利用这个简单的投票来做民意调查。而一些被网友怀疑为五毛所发的跟贴，支持数成了大家发泄的一个渠道。特别是在某些领导人讲话新闻后面的叫好的跟贴。但是“支持”和“反对”功能的取消，主要也是祸起于此。09年秋天，取消“反对”功能时，网友一片骂声。后来“支持”也修改成“顶”。

3，热帖的困惑

前面说了，“支持”的参与方便，而“热帖”的规则简单，网友参与热度很高，还曾经有网友编写过网易跟贴的投票机软件。

但是，这个热帖机制，缺陷也是显而易见的。由于跟贴页面的设计为上面10条为热帖，下面20条（后来改为30条）为最新。首先，热帖的占位效应很明显，被顶上来的，基本都是最早生成的跟贴，被顶到热帖后，则会有更多的机会获得支持；这样一些很普通的贴长期占据高位，而某些经典在没机会浮现。因为极少网友翻页去看跟贴，只要一篇新闻的跟贴过千，新贴在跟贴第一页显示的时间很短暂。

4，推荐系统

A计划：构建一个类似IMDB等电影分享网站之类的评价系统，而且计算公式复杂保密，其中包括发表时间，支持数，反对数，被引用回复次数（被盖楼数），甚至参与顶帖的用户身份，也加上权重计算。最后换算成一个叫“热度”之类的数字，进行排序。但是最后没有付诸行动，主要是担心在跟贴这样快速、简短的评论系统中，引入一个深度用户参与的复杂的评价系统，很担心效果。而且，如果用户无法理解自己行为与最终的排行的直接关系，会极大的降低参与兴趣。

B计划：放弃上面的复杂公式，只是在现有的顶帖基础上，增加时间衰减的计算。希望这样可以避免长期占位的发生。

C计划：构建用户积分系统，用户的积分来源于发帖被顶，而获得积分之后，则可以用于顶别人的贴来积分金钱。也就是说，将热帖的产生权，交给那些通过发帖而拥有大量积分的用户。

此外，还有其他一些零碎的想法。其中可能有的是错失的好机会，有的可能是明显的歧途。但是，盛名之下的痛苦在于，决策时，我都倾向于保守。因为在守成与冒险之间，大多数时候，选择了前者。

四，发帖数

1，点一下“支持”自动发一个贴？

互联网有句话叫“PV是万恶之首”，跟贴的总数，也成了各家表面比拼的一大手段。特别是在04、05年很长一段时间里，电视、报纸在引述一条新闻在互联网的反响时，经常采用在某某网有多少条跟贴。而这些记者可不管这个跟贴数字背后是怎么构成。

那时，新浪、搜狐（腾讯后来也加入）都采用了点一下“支持”或者“反对”，自动生成一个跟贴的方式，内容基本是“我顶”“很好”“支持”几个预设好的。这样跟贴的数字就如当年的亩产量一样，飞天上去了。

我们曾经为此多次开会，争论激烈。特别是在内容影响力和市场份额整体落后于对手的恶劣环境中，我们又在残酷对比的跟贴数上被对手抛离，真难抵挡住诱惑。最后还仅仅是因为一些朴素的想法（用户是否需要）而得以保身。

新浪等采用自动发帖的方式，带来非常严重的后果是，跟贴可读性急速下降，满页都是用户点击“支持”“反对”系统自动生成的跟贴。后来有的网站采用区别对待的方式，默认不显示自动生成的，最后甚至取消了。但是他们在比拼跟贴数字的时候，已经给网易跟贴让出了极好的发展机会。

2，合并跟贴

合并跟贴是指将相同题材的新闻跟贴合并起来，特别是制作专题的时候使用较多，比如，南非世界杯所有新闻的跟贴合并。这个功能的发明者应该是新浪，设计初衷估计一方面是增加跟贴数，网站在对外宣传时，号称某个话题网友评论数过百万条，是相当壮观的；另一方面可能真有部分用户有此需求。梅西的新闻跟贴都合并到一起，你只需要从任何一条梅西的新闻点进去，都可以看到所有的评论。

但合并跟贴对跟贴内容质量的伤害还是存在的，因为网友不少评论是针对当篇新闻的具体内容，合并后会导致错乱。比如一篇挺国足的新闻，跟贴可能全是骂作者的，如果被合并到另外一篇骂国足的新闻里，会让人莫名其妙。

网易曾经采用一个折中的方法（其他网站也看到有类似的），默认显示的是本新闻的跟贴，然后还有合并更贴的入口。而合并的页面里，每条跟贴都显示来源于哪篇新闻。但是大概在08年初的时候停了。当时主要是对系统性能的影响有点大，而为了一个用户并不太需要的功能，不值得。2010年初又恢复为专题的跟贴合并，这有一定的合理性，除了前面说的数字以外，还有专题本身就是一个话题的集中，所以跟贴也因此集合。

五，IP识别和网易火星网友

1，IP识别功能

IP自动识别就是将跟贴用户的IP信息，自动转换成地理信息。这个功能推出之前的跟贴，用户身份要么是可以自己填写（包括可能登录），要么就直接使用IP了。常见的格式就是“IP：202.120.100.* 网友”。

07年初，网易上线了自动将IP匹配成地理信息的功能，表述格式变为“网易北京海淀网友(202.120.*.*)”。IP隐藏了最后两位。

这个功能的灵感来源于一篇谈用户体验的文章（不过我实在想不来是谁写的、实在抱歉），里面大概有一句话，意思是要将用户不能识别的机器信息，转换成可辨认的文字或者图形。后来有一天看跟贴的IP时，就突然灵感一闪，换成大家可识别的地理信息如何？?

于是在网上找了个IP地址库，总共有10几万条记录（IP段和对应的地址）。但是中文地址不规范，很多详细到“某某街道几号XX网吧”，所以就干脆人工整理，将多余的信息全部删掉，最详细只保留县区级、或者学校。但也保留了微软中国公司和IBM中国公司的IP信息，这导致后来出现了“网易IBM中国网友”，真有点对不起发帖的兄弟。这个笨办法耗费了1个月的时间。后来的版本采用了程序智能截取，并且自动升级IP地址库信息。

这个功能推出一年后其他大网站都纷纷效仿。不知道是不是网易最早在跟贴上应用的，但是当时的确没有参考过其他网站，因为日常浏览的网站里，没看到过。

2，网易火星网友

在整理上面说的IP地址库时，偶尔遇到一些没有地理位置的或者只显示“ICCAN未分配”的IP段，犯困了。一开始准备老老实实地用“网易IP未能识别网友”，后来干脆恶搞了个彩蛋，就是“网易火星网友”。

因为不能被识别而且网友使用到的IP其实不多（不包括地址匹配错误的），所以火星网友的出现概率极低，偶尔出现时引起大家骚动和仰慕。但是后来网友发现漏洞，利用HTTP头信息欺骗，捏造不存在的IP（包括局域网IP），就经常看到火星网友。甚至直接修改地域信息的显示。

?3，地域攻击

IP识别功能所赢得的巨大声誉是在意料中的。但也导致了一些反对的声音（包括网友和网易内部），最强烈的就是地址信息所引起的地域攻击。甚至还被网友举报到监管部门（包括色贴），最后为了生存，对直接攻击的做了删减，并且在页面提醒“文明社会，从理性发贴开始。谢绝地域攻击。”

4，IP地址的应用

曾经设想中的应用，根据新闻的事发地，自动列出当地网友的跟贴。比如，在一篇“成都公车起火”的新闻后，来自“网易四川成都网友”的评论，可能是非常重要的新闻信息。但是由于这个功能大部分新闻不适用（体育、财经、科技等），以及在“所有辅助功能为系统性能让路”的原则下，一直搁置。

六，用户系统

每天活跃在网易跟贴里的几百万用户(包括看帖不回帖的)，如果通过跟贴为纽带，将臭味相投的、对同一话题跟贴态度一致的、地域关联等连接起来，组成跟贴社区，听起来似乎很美好。但是事实上，设想、摸索、实践的经历不少，目前尚未成功。

1，首先，在过去很长时间里，跟贴用户绝大多数不登录的。曾经设想过，通过COOKIE读取用户信息（曾经登录过通行证的），但是无法解决用户信息安全和隐私的问题。

2，曾经采用网易论坛的用户库，计划将跟贴记录保存到论坛。但是，用户在跟贴的发言，与论坛的风格差异很大，并不太愿意保存到论坛。

3，为了实现登录网友产看自己发帖记录，临时做了一个保存灌水记录的系统。

4，09年春夏之交开始，所有网站被要求登录发帖。竟然实现了多年的愿望，虽然发帖量一度跌去一半。但是神州大地都如此，网友也被迫接受了。

5，09年60大寿后，借鉴微博的思路，计划将只在跟贴首页平面展示的跟贴，通过关注、转发等方式立体传播。开工一半，网易决定开发微博，导致跟贴此项目匆忙完成，效果差强人意。

七，互通——微博，论坛、博客

系统互通，其实挺像那些高谈战略布局的企业家一样，听起来让人热血沸腾，但是能实现而且成功的极少。因为，你苦花心思的去实现，用户不一定需要，甚至并不知道这个互通的存在。

1，与博客互通：曾经试验过，用户在发跟贴的时候，可以勾选同时发到博客。结果一方面由于登录的限制，另一方面没几个用户愿意同步，因为跟贴内容与博客性质差距太大。论坛遭遇也类似。

2，收藏到博客：每条跟贴下有一个按钮，收藏到博客。点击后，系统将内容COPY到博客，并且自动增加了新闻标题、原始链接和描述性的文字。但是一天使用的次数，不到1000次，最后放弃。但是，专门收藏跟贴的几个博客（老衲博客），倒是很火。这个功能的需求是少数用户，可以通过人工COPY实现。

3，转发到微博：微博是一个很好的分享和传播平台，但是由于字数限制，不太可能直接将跟贴转发到微博。网易微博上线前，偶尔看到有网友人工将网易跟贴截图，在新浪微博传播。于是，我们想到了将微博截图然后，当图片发到微博上。用户只需要点击一下，系统在后台完成截图过程。而且为了适应微博的页面宽度，单独制作了用于截图的窄页面。

该功能还是很受网友欢迎，更重要的是，网易跟贴可以通过微博渠道广泛传播。可惜不久被和谐了。

网易跟贴的恶搞、自嘲、正话反说、调侃朝政、讽刺世俗等文化，形成的原因很多，但是与产品功能设计的原因较小。也就是说，通过功能设计刻意去培养营造这种文化，可能用错力道。同理，对手也很难通过产品的改造而复制网易跟贴。但是，必须警惕的是，因为功能的阻碍，让导致网友流失、气氛减弱。比如，在跟贴内容中加入表情图标，我是一直坚决的反对者。因为表情图标会极大地伤害文字内容的可读性，也类如系统自动生成的“支持”“我顶”“很好”一样，导致水贴泛滥。

网易跟贴文化的形成，时间漫长，非一朝一夕所为。有一点比较确定的是，网易新闻曾经力推的恶搞专题，对此有直接的推动作用。大约是2004年到2007年之间，网易新闻曾力推恶搞、反讽类专题，比如《油荒时代的幸福生活》、《全民大搞拷》、《领导下乡送温暖》(已阵亡)、《幸福生活2005》、《坚决反对取消户籍制度》等。网易跟贴调调和这些专题的风格一脉相承。当然网友的创造力和想像力远超人数有限的编辑，后来演绎了老衲和师太、小李与局长等无数可歌可泣的跟贴故事。

（先后参与过网易跟贴的产品功能设计人员有：李学凌、梁剑、钟韵江、李文涛、彭毅、李楠、陈陶陶、万琪，其中只有万琪是名义的全职跟贴产品人员；开发人员有：董荣杰、李欢、黄海亮、肖裕、程思、郜文彬；前端人员有：罗金、徐翔、罗礼权、鲍海燕——名单可能有所遗漏）

