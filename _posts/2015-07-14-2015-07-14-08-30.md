---
layout: post
url: https://www.huxiu.com/article/120178
name: hackerqc
time: 2015-07-14 08:30
title: 来见识一下估值250亿美元的Airbnb，实现用户增长的利器长什么样？
---
众所周知，Airbnb最近完成了一轮高达25Billion估值的融资。我想大家对这家发展速度如此逆天的公司会非常好奇。接下来我们先来见识一下Airbnb实现用户增长的一个利器—— Referral system，一个在网络上可以引发病毒式传播的系统。其本质就是通过邀请你的朋友使用产品，你可以从中获得邀请的好处（一些折扣或者代金券），或是在完成一笔交易之后分享红包。目前在国外的其他公司：Wealthfront、Uber以及国内很多公司都开始使用类似的策略。

最近Airbnb的官网发出一篇文章，用来解释公司的 Referral 系统是如何搭建和运行的。这个系统使得Airbnb每天新注册用户人数和下单量总共增加了300%。本文由“覃超帝国”成员冀翔宇?@暗夜骑士hp 负责翻译完成。

当下越来越多的生活需求可以依托互联网实现，而通过 Airbnb 这一类的旅行预定网站，用户可以预定周末出行，体验文化碰撞，甚至还可以预定蜜月行程。显而易见的是，这种旅店或者行程预定最终带来的用户体验因人而异，因此用户和潜在用户们的口碑对于 Airbnb 的用户增长影响巨大。

对许多网站或者软件而言，为了达到用户数量快速增长的目的，通过已经注册的用户，邀请相关朋友注册是一种经常被使用的方式。随着公司的快速发展，以 Airbnb 的体量而言，之前的邀请系统并不能充分利用 Airbnb 的用户和数据资源，并且这种邀请功能只能在网页端使用，在当下越发重要的移动智能手机上却存在发展缺陷。考虑到这种情况，Airbnb 的工程师们对邀请系统进行了全新的工程再造。

当邀请他人注册的流程完成，并且新注册用户通过 Airbnb 完成首次旅行行程后，Airbnb 会给邀请的发出者和接受者的 Airbnb 账户中各充值 25 美元的信用值。这种机制的目的是鼓励 Airbnb 的用户群体向朋友发出邀请，并尽力使这种影响力产生实际的用户增长。这次对于邀请系统的重构，目的是使之能在 Web、iOS、Andriod 平台都能被使用。这个被称作 Referrals 的项目可以从数据角度被很精确地衡量，扩展性很强，并且能在恰当的时机到来之时尽可能发掘出潜在的推荐人。

在进行任何实际的编码之前，团队首先详细定义想要达到的目的和一系列的评价指标。对整个邀请系统来说，数据在其中扮演着十分重要的角色，因此团队首先定义了一系列的数据衡量标准，比如每个月现有激活用户发送邀请的次数，每个发出邀请的用户平均发出邀请的个数，每个收到邀请的用户中最终注册、产生预定、成为房东这三种产品行为各自的转化率等。对于每个评价指标，团队在如果旧有的推荐人系统再次运行的话会怎样实施的假设前提下，设定了由好到差的三种预期评价，同时以 Dropbox Voxer 等公司现有的被证明有效的邀请新用户系统作为评价基准。

在搭建实际产品之前，Airbnb 的团队首先开发搭建了一系列的工具，用来记录并报告之前提出的指标的完成度。团队使用了公司内部的日志记录平台 air_events，能够在网页端和移动端调用同样的方法，然后将日志记录到 Hive 中，在不同开发环节编写了程序库用以记录数据日志。

在此基础之上，Referrals 项目的工程师们在老用户发出邀请到被邀请用户注册这一过程中，对超过20种用户在网页端和移动端的行为进行了分类记录，而以这种数据为基础可以在多个平台对评价指标进行评价。同时，团队中的数据分析人员建立了清晰的数据可视化监控台，这使得从系统开发初期就能对介绍系统的表现进行评价。

秉承 Airbnb 一贯对工程师的支持原则， Referrals 的开发团队在旧金山附近租了一个场所，在几个星期内，员工们对网页端和移动端同步开展了开发活动。

团队中的两名工程师以这个项目为契机迅速掌握了移动开发技能，公司核心的移动开发团队的同事也帮助进行了结对编程，正是由于Airbnb 工程师相互指导扶持的文化，产品得以如此迅速地实现。在实际开发过程中，工程师们还创造出一些有趣的产品特征。比如个性化邀请码：

（通过朋友的名字和头像，可以更好地让新用户接受邀请）

这旨在通过对不同用户设计不同的邀请码和链接，来增强用户对于接到的邀请和邮件的亲切感。相似的例子还有用户下载后第一次打开应用的个性化页面，这是基于团队的工程师们编写的能够精确跟踪用户下载链接来源的分析工具。如果用户是通过点击邀请码，并最终下载软件的话，系统会分别生成独特的校验码验证邀请及相应下载，新用户在第一次打开应用时会出现个性化的展示页面，极大增强了产品的个性化体验。

最终，根据监控台统计出的数据，在某些市场，邀请系统的发布使得 Airbnb 的预定数量上涨了 25%。最终使得日平均新注册用户和平均订单相比过去增长幅度高出 300%。而通过对日志中收集到的数据不断地进行统计分析，团队也发现了能够提升目标指数的一些可行做法，比如：

引入手机或者邮箱通讯录中的信息，增加每个邀请人发出的邀请数；

为系统设计更方便的点击入口，增加发出邀请的用户数量；

允许邀请人对接受邀请并注册用户发出账户奖励提醒，提升Airbnb 参与预定用户的转化率等。

在邀请系统上线发布后，团队继续对邀请系统进行了改进。比如选取合适的时机对潜在的邀请发出者进行提醒（如当挖掘出用户刚刚进行了成功的面试或者刚完成一笔订单），同时在发送邮件的过程中进行 A/B Test，用来对不同的文案风格带来的转化率进行对比。同时在语言上更具有利他性的风格，这使得用户更愿意向他人发出邀请。在上线过程中，通过比较数据记录，工程师们发现不同文化背景下的人，对于邀请的接受度相差很大。

这些商业价值的产生都是源于之前项目实施中对于数据价值的重视，以及对大量的系统日志记录的应用。

上图中左侧的用语：“邀请你的朋友，你可以获得$25”；上图中右侧的用语：“赠送$25给你的朋友，让他/她去旅游”。

这两个方案做了A/B testing，最后发现右侧方案（利他主义）在全球的表现都好于左侧。另外他们还发现不同的文化对于这个Referral系统的接受程度不一样，比如在韩国的表现令人惊讶。

最后，给我们中国研发团队的启示：

整个 Referrals 邀请系统从想法的产生到产品最终的落地上线的过程，是一个标准的 Airbnb 成长型项目模板。通过设定可以量化的目标，细致地定义可以被评价的指标，并在系统编码中记录充足的日志，开发过程中编写可以成为广泛使用工具的项目，上线后不断衡量效果并不断迭代，是当下的软件开发过程从计划到实施到落地的一个范例。

同时我们不应该忽视的是，当下互联网信息的爆炸性增长，数据的价值越来越重要，Refeerrals 收集到的大量的日志信息，为潜在的商业价值发现和产品特性的改善提供了基础。而项目实施过程中，Airbnb 内部对工程师的支持，公司内团队之间资源的相互扶持，值得国内的公司管理者借鉴。

注意，并不是每一个公司都要做这么一个系统，满足的条件是符合口口相传的形态，另外公司的业务能很好地在社交网络里扩散开，同时已经很好地支持了规模化。反例：很多O2O公司只开通了某个城市，这样在朋友圈的红包分享不一定有好的效果，因为朋友圈里的朋友有很大概率在未开放服务的城市。

比如Airbnb的：“每个月现有激活用户发送邀请的次数，每个发出邀请的用户平均发出邀请的个数，每个收到邀请的用户中最终注册、产生预定、成为房东这三种产品行为各自的转化率等”。 这些指标对于每个公司都不一样，要结合具体业务来制订。

一个团队封闭式开发，或者使用中国特色的宾馆式开发。

4、查看衡量指标，不断地优化Referral系统的细节

比如Airbnb对于邀请界面和用语用了各种A/B test进行测试，最后发现利他主义的邀请更加受人欢迎。

如果你习惯微信，可以订阅我的公众号： qc_empire；当然我的知乎专栏：覃超帝国兴亡史 - 在希望的田野上，也会一直同步更新。

